{"version":3,"names":["_react","require","_reactNative","_axios","_interopRequireDefault","_constants","e","__esModule","default","TruecallerAndroidModule","NativeModules","TruecallerModule","TruecallerIOS","ReactNativeTruecaller","useTruecaller","config","userProfile","setUserProfile","useState","error","setError","isTruecallerInitialized","setIsTruecallerInitialized","initializeTruecallerSDK","useCallback","Platform","OS","androidClientId","Error","iosAppKey","iosAppLink","androidConfig","buttonColor","androidButtonColor","DEFAULT_BUTTON_COLOR","buttonTextColor","androidButtonTextColor","DEFAULT_BUTTON_TEXT_COLOR","buttonText","androidButtonText","DEFAULT_BUTTON_TEXT","buttonShape","androidButtonShape","DEFAULT_BUTTON_SHAPE","footerButtonText","androidFooterButtonText","DEFAULT_FOOTER_BUTTON_TEXT","consentHeading","androidConsentHeading","DEFAULT_CONSENT_HEADING","languageCode","DEFAULT_LANGUAGE","initializeSdk","err","message","useEffect","successListener","failureListener","DeviceEventEmitter","addListener","TRUECALLER_ANDROID_EVENTS","SUCCESS","data","androidSuccessHandler","handleAuthorizationSuccess","FAILURE","errorMessage","eventEmitter","NativeEventEmitter","TRUECALLER_IOS_EVENTS","remove","authorizationCode","codeVerifier","accessToken","exchangeAuthorizationCodeForAccessToken","userInfo","fetchUserProfile","mapIOSResponseToUserProfile","clientId","response","axios","post","TRUECALLER_API_URLS","TOKEN_URL","grant_type","client_id","code","code_verifier","headers","access_token","get","USER_INFO_URL","Authorization","mapAndroidResponseToUserProfile","firstName","given_name","lastName","family_name","email","countryCode","phone_number_country_code","gender","phoneNumber","phone_number","isSdkUsable","isSupported","openTruecallerForVerification","requestAuthorizationCode","requestTrueProfile","clearTruecallerSDK","clearSdk","exports"],"sourceRoot":"../../../src","sources":["hooks/useTruecaller.ts"],"mappings":"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","ignoreList":[]}
