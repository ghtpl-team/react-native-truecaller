{"version":3,"names":["_react","require","_reactNative","_axios","_interopRequireDefault","_constants","e","__esModule","default","TruecallerAndroidModule","NativeModules","TruecallerModule","TruecallerIOS","ReactNativeTruecaller","useTruecaller","config","userProfile","setUserProfile","useState","error","setError","isTruecallerInitialized","setIsTruecallerInitialized","initializeTruecallerSDK","useCallback","Platform","OS","androidClientId","Error","iosAppKey","iosAppLink","androidConfig","buttonColor","androidButtonColor","DEFAULT_BUTTON_COLOR","buttonTextColor","androidButtonTextColor","DEFAULT_BUTTON_TEXT_COLOR","buttonText","androidButtonText","DEFAULT_BUTTON_TEXT","buttonShape","androidButtonShape","DEFAULT_BUTTON_SHAPE","footerButtonText","androidFooterButtonText","DEFAULT_FOOTER_BUTTON_TEXT","consentHeading","androidConsentHeading","DEFAULT_CONSENT_HEADING","languageCode","DEFAULT_LANGUAGE","initializeSdk","iosConfig","oauthScopes","err","message","useEffect","successListener","failureListener","DeviceEventEmitter","addListener","TRUECALLER_ANDROID_EVENTS","SUCCESS","data","androidSuccessHandler","handleAuthorizationSuccess","FAILURE","errorMessage","eventEmitter","NativeEventEmitter","TRUECALLER_IOS_EVENTS","remove","authorizationCode","codeVerifier","accessToken","exchangeAuthorizationCodeForAccessToken","userInfo","fetchUserProfile","mapIOSResponseToUserProfile","clientId","response","axios","post","TRUECALLER_API_URLS","TOKEN_URL","grant_type","client_id","code","code_verifier","headers","access_token","get","USER_INFO_URL","Authorization","mapAndroidResponseToUserProfile","firstName","given_name","lastName","family_name","email","countryCode","phone_number_country_code","gender","phoneNumber","phone_number","isSdkUsable","isSupported","openTruecallerForVerification","requestAuthorizationCode","requestTrueProfile","clearTruecallerSDK","clearSdk","exports"],"sourceRoot":"../../../src","sources":["hooks/useTruecaller.ts"],"mappings":"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","ignoreList":[]}
